import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as e,o as n}from"./app-B-RYL0CI.js";const l="/mirnotes/assets/image-USi2ZGOF.png",t="/mirnotes/assets/image-1-sDfN3u3M.png",h={};function r(d,i){return n(),a("div",null,[...i[0]||(i[0]=[e('<h1 id="set-up-linux" tabindex="-1"><a class="header-anchor" href="#set-up-linux"><span>Set up Linux</span></a></h1><h2 id="choose-your-favorite-distro" tabindex="-1"><a class="header-anchor" href="#choose-your-favorite-distro"><span>Choose your favorite distro</span></a></h2><p>作为开源系统，Linux有诸多发行版本。选择你喜欢的版本或最受欢迎的版本即可。</p><blockquote><p><a href="https://omarchy.org/" target="_blank" rel="noopener noreferrer">Omarchy</a> is an elegant, ready-to-use, <strong>arch</strong>-based linux setup with deep customization and super-easy installation.</p></blockquote><h3 id="选择桌面环境" tabindex="-1"><a class="header-anchor" href="#选择桌面环境"><span>选择桌面环境</span></a></h3><p>桌面环境即是你将直接看到的图形界面。无论选择何种发行版本，KDE和Gnome都是最受欢迎的选项。比较它们不同的风格做出选择。</p><blockquote><p>Hyprland是一种现代化轻量型Wayland窗口管理器，核心理念是“动态平铺”，带来与PC完全不同的操作体验。</p></blockquote><h2 id="start-installation" tabindex="-1"><a class="header-anchor" href="#start-installation"><span>Start installation</span></a></h2><h3 id="制作安装介质" tabindex="-1"><a class="header-anchor" href="#制作安装介质"><span>制作安装介质</span></a></h3><p>在官方网站或镜像站（清华源：<a href="https://mirrors.tuna.tsinghua.edu.cn" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn</a>）下载iso映像文件<br><img src="'+l+'" alt="sreenshot" loading="lazy"></p><p>iso文件分为在线安装版和离线安装版。</p><ul><li>在线安装版体积较小，安装时选项较多，但要求安装时联网。而且由于你需要在进入系统前联网，你不能进行复杂的设置，很可能需要有线网络连接。</li><li>离线安装版体积较大，下载时可能需要选择相应的桌面环境，仍然建议安装时联网以便获取更新、配置源以及安装额外软件。</li></ul><p>准备一个至少8GB的U盘，下载刻录工具（免费免安装的rufus： <a href="https://rufus.ie/%EF%BC%89" target="_blank" rel="noopener noreferrer">https://rufus.ie/）</a><br><img src="'+t+`" alt="alt text" loading="lazy"></p><p>选择U盘和刚下载的iso文件，点击开始，稍等片刻，当进度条显示ready时制作完成，弹出U盘。</p><h3 id="开始安装" tabindex="-1"><a class="header-anchor" href="#开始安装"><span>开始安装</span></a></h3><p>开机时按F1-12，进入BIOS/UEFI,通过U盘启动，按照安装向导完成安装</p><h2 id="install-neccessary-software" tabindex="-1"><a class="header-anchor" href="#install-neccessary-software"><span>Install neccessary software</span></a></h2><blockquote><p>⚠️ 不同发行版使用不同的包管理器，命令和包名称有所不同，需查询。</p></blockquote><h3 id="中文输入法" tabindex="-1"><a class="header-anchor" href="#中文输入法"><span>中文输入法</span></a></h3><p>最流行的方式：Fcitx5</p><ol><li><p>安装fcixt5:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fcitx5-im</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fcitx5-chinese-addons</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fcitx5-pinyin-zhwiki</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>fcitx5-im</strong>: Installs the main daemon and the configuration GUI.<br><strong>fcitx5-chinese-addons</strong>: Includes the actual Pinyin engine.<br><strong>fcitx5-pinyin-zhwiki</strong>: Adds a massive dictionary based on Chinese Wikipedia to improve word association.</p></li><li><p>在 <code>/etc/environment</code> 添加：</p><div class="language-plaintext line-numbers-mode" data-highlighter="shiki" data-ext="plaintext" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-plaintext"><span class="line"><span>GTK_IM_MODULE=fcitx</span></span>
<span class="line"><span>QT_IM_MODULE=fcitx</span></span>
<span class="line"><span>XMODIFIERS=@im=fcitx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>设置自动启动<br><strong>KDE Plasma</strong>: Go to System Settings &gt; Input &amp; Output &gt; Keyboard &gt; Virtual Keyboard and select Fcitx 5. This is the most stable method for Wayland.</p><p><strong>GNOME</strong>: Use the &quot;AppIndicator and KStatusNotifierItem Support&quot; extension to see the tray icon.</p><p><strong>Window Managers (Hyprland, etc.)</strong>: Add <code>fcitx5 -d</code> to your startup script (e.g., <code>exec-once = fcitx5 -d</code> in Hyprland).</p></li><li><p>设置输入法<br> 运行<code>fcixt5-configtool</code>，在图形界面中添加汉语拼音</p></li></ol><p>重新启动后才可以成功打出汉字</p><h3 id="开机自动挂载磁盘" tabindex="-1"><a class="header-anchor" href="#开机自动挂载磁盘"><span>开机自动挂载磁盘</span></a></h3><p>当你的系统有多个硬盘或分区时，可能需要在开机时自动挂载它们。Linux通过<code>/etc/fstab</code>文件来配置开机自动挂载。</p><h4 id="查看硬盘信息" tabindex="-1"><a class="header-anchor" href="#查看硬盘信息"><span>查看硬盘信息</span></a></h4><p>首先查看系统中的硬盘和分区信息</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lsblk</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看UUID信息（推荐使用UUID挂载，更稳定）</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> blkid</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="创建挂载点" tabindex="-1"><a class="header-anchor" href="#创建挂载点"><span>创建挂载点</span></a></h4><p>为要挂载的硬盘创建目录</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/data</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  #data可改为你喜欢的硬盘名称</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="编辑fstab文件" tabindex="-1"><a class="header-anchor" href="#编辑fstab文件"><span>编辑fstab文件</span></a></h4><p>编辑<code>/etc/fstab</code>文件来配置自动挂载</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nano</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/fstab</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在文件末尾添加挂载配置，格式如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>UUID=your-disk-uuid /mnt/data ext4 defaults 0 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>参数说明：</p><ul><li><code>UUID=your-disk-uuid</code>: 硬盘的UUID（从blkid命令获取）</li><li><code>/mnt/data</code>: 挂载点路径，应与之前创建的目录一致</li><li><code>ext4</code>: 文件系统类型（根据实际情况可能是ntfs、fat32等，但建议将硬盘格式化为ext4）</li><li><code>defaults</code>: 挂载选项</li><li><code>0</code>: dump选项（通常为0）</li><li><code>2</code>: fsck检查顺序（根分区为1，其他为2，不检查为0）</li></ul><h4 id="测试挂载配置" tabindex="-1"><a class="header-anchor" href="#测试挂载配置"><span>测试挂载配置</span></a></h4><p>保存文件后，测试配置是否正确</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mount</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果没有错误信息，说明配置正确。可以用以下命令查看挂载状态：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">df</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>重启系统后，硬盘将自动挂载到指定位置。</p><h3 id="winscp-optional" tabindex="-1"><a class="header-anchor" href="#winscp-optional"><span>winscp (optional)</span></a></h3><p>使用你的windows电脑查看/linux上的文件，或将新的文件复制进来。<br> 接下来需要进入到Ubuntu中，查看一下是否开启OpenSSH服务</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sshd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果未安装ssh，需要安装ssh服务</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> openssh-server</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # Ubuntu</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> openssh</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # arch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sshd</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #启动服务</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后再检查一下ssh服务状态，显示active就说明已经安装成功</p><p>如果localhost可以连接，从其它机器也能ping通，但还是无法连接，可能是防火墙设置：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ufw</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # 查看状态，确认22端口放行</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 未放行则执行：</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ufw</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> allow</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 22/tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ufw</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时从windows端WinSCP新建连接，选择<strong>SFTP</strong>协议，输入linux设备的ip和用户名密码即可进入linux文件系统。</p><h2 id="handling-problems" tabindex="-1"><a class="header-anchor" href="#handling-problems"><span>Handling problems</span></a></h2><h3 id="界面显示异常" tabindex="-1"><a class="header-anchor" href="#界面显示异常"><span>界面显示异常</span></a></h3><p>睡眠唤醒后屏幕画面撕裂或花屏，重启显示管理器：</p><p>想办法进入终端，执行以下命令之一：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#KDE 通常采用SDDM：</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sddm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#Gnome 通常采用GDM</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gdm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#其他可能采用lightdm</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> lightdm</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="chrome-vscode-显示异常" tabindex="-1"><a class="header-anchor" href="#chrome-vscode-显示异常"><span>chrome/vscode 显示异常</span></a></h3><p>禁用硬件加速。<br> chrome在设置中搜索，vscode编辑配置文件：</p><ul><li><p>按下 Ctrl+Shift+P 打开命令面板。</p></li><li><p>输入 Preferences: Configure Runtime Arguments 并回车。</p></li><li><p>在打开的 argv.json 文件中添加：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>&quot;disable-hardware-acceleration&quot;: true，如下：</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>重启 VSCode。</p></li></ul><h2 id="tips" tabindex="-1"><a class="header-anchor" href="#tips"><span>Tips</span></a></h2><ul><li>For arch users, 如果需要的软件厂商没有提供对应的版本，自己编译又会遇到错误(如源代码依赖很古老的版本的工具链)，AUR上可能可以找到一键安装脚本。</li></ul>`,64)])])}const c=s(h,[["render",r]]),o=JSON.parse('{"path":"/Dev/linux.html","title":"Set up Linux","lang":"en-US","frontmatter":{},"git":{"createdTime":1761812994000,"updatedTime":1769006982000,"contributors":[{"name":"Mirpri","username":"Mirpri","email":"71537369+Mirpri@users.noreply.github.com","commits":4,"url":"https://github.com/Mirpri"},{"name":"Shizhuo Liu","username":"","email":"6shizhuo@gmail.com","commits":1}]},"readingTime":{"minutes":4.5,"words":1350},"filePathRelative":"Dev/linux.md"}');export{c as comp,o as data};
